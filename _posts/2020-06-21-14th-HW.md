---
layout: post
author: Younji Kim
---
# Linux
## 컴퓨터 시스템 관리
### 20190960 김윤지

_ _ _

## 실습과제             
         
                
14주차 실습과제 링크 <https://youtu.be/uYgJMMKeyLM>             
Client에서 Filzilla로 FTP 서버에 접속한다. Client에서 /home/ubuntu/다운로드 위치에 미리 생성해놨던 computer.txt파일을 서버에 업로드 할 것이고, 서버의 pub폴더 안에 homework.txt라는 파일을 다운로드 받을 것이다. 드래그로 파일을 끌어다놓거나, 마우스 오른쪽 버튼을 클릭하여 업로드 또는 다운로드 버튼을 누르면 된다. 상태메세지에서 업로드와 다운로드 둘 다 파일 전송에 성공했다고 뜬다.                     

실습에서는 익명(anonymous)의 사용자가 업로드, 쓰기 등의 서버에 영향을 주는 일을 할 수 있게끔 설정하였다. 그러나 실제 사이트에서 이럴 경우에는 익명의 사용자가 파일을 변경하거나 바이러스 같은 치명적인 파일을 서버에 풀어놓을 수도 있다. 그렇기 때문에 anonymous는 읽기, 다운로드만 할 수 있게끔 설정해주어야 한다.                
vsftpd, proftpd로 ftp 서버를 만들 때 .conf파일에서 권한에 대한 설정을 할 수 있다. vsftpd일 경우에는 /etc/vsftpd.conf, proftpd일 경우에는 /etc/proftpd/proftpd.conf에서 변경한다. 편집기에서 anonymous에 주어진 권한을 일부 제한하기 위해 관련 내용에서 주석처리한다.               
<img src="https://github.com/objectio/objectio.github/blob/master/images/14-1.JPG?raw=true" width = "90%">           

_ _ _

## 실습일지              
              
1. **파일 전송 프로토콜(FTP)**                   
    - 서버와 클라이언트 사이의 파일 전송을 하기 위한 프로토콜이며, 1971년 Abhay Bhushan이 FTP에 대한 사양을 작성하였다. 자유롭게 접근할 수 있는 사이트들이 있다. ex) http://ftp.kaist.ac.kr/                                  
    - 명령 연결: 제어 포트인 21번 포트로 사용자 인증, 명령을 위한 연결 생성, 클라이언트로부터의 명령어를 전달한다.              
    - 데이터 전송용 연결 - 능동모드(Active mode) : 서버가 데이터포트인 20번 포트에서부터 클라이언트가 지정한 지점으로의 데이터 연결을 생성한다. 클라이언트가 방화벽, NAT 등을 사용할 경우 잘 작동하지 않을 수 있으므로 방화벽을 해제하거나, 수동 모드를 사용한다.              
    - 데이터 전송용 연결 - 수동모드(passive mode) : 클라이언트에서, 서버가 지정한 서버 포트로 연결할 수 있게 설정 가능.               
    - 파일 송수신 모드               
        text mode: 문서 파일 전송 시에 사용한다.                        
        binary mode : 그림 파일 전송 시에 사용한다.               
                     
2. **FTP packages**               
    - vsftpd(Very Secure FTP Demon) : 리눅스와 유닉스 환경에서 보안성과 성능이 우수한 FTP 서버이다.              
    - proftopd(Pro FTP Demon) : 대형 사이트에서 오래토록 인기가 많았던 FTP서버이다. 명령어 참고(<https://terms.naver.com/entry.nhn?docId=4125923&cid=59321&categoryId=59321>)         
    - FileZilla :  서버, 클라이언트 둘 다 사용가능한 FTP 소프트웨어이다. 단말기에 상관없이 외관/기능의 차이가 없는 오픈소스 크로스 플랫폼(<https://cordelia273.space/16>)의 자유 소프트웨어이다.           
    - Iftp : 명령형(커맨드 라인) 프로그램 클라이언트이다. 치명적인 에러에 대한 예외 처리가 잘 되어 있는 것이 장점. (<https://en.wikipedia.org/wiki/Lftp>)           

    
_ _ _


지금까지 했던 실습 중 가장 많이 막히고 스트레스를 받았던 것 같다. ftp 서버를 구축하는 것까지는 좋았는데, windows terminal에서 ftp서버로 연결하고, ls 명령어를 통해 파일 리스트를 불러오는 과정이 아예 먹통이었다.                 
<img src="https://github.com/objectio/objectio.github/blob/master/images/14-error.JPG?raw=true" width="90%">            
구글링을 이리저리 해보아도 나와 같은 문제가 발생한 사람이 잘 보이지 않았고, 서치하다가 가끔 보이는 블로그 포스팅에 들어가봐도 별다른 해결책을 찾지 못했다. 그래서 교수님께 메일을 드리고 답신에 적힌 대로 인터넷 연결 확인하고, 다시 ftp.kaist.ac.kr에 접근하여 ls명령 실행을 시도해 보았더니 바로 되었다. 재설치를 몇 번이나 해도 계속 안되었는데 무엇이 문제였던 건지는 아직도 모르겠다.                  
                
오류가 더 있었다. 이 오류는 그나마 쉽게 해결했다.                   
<img src="https://github.com/objectio/objectio.github/blob/master/images/14-error3.JPG?raw=true" width="90%">                 
425 failed to establish connection이라는 문구와 함께 또 ls명령어에서 걸렸다. 대충 읽어보니 연결이 안된다는 것 같아 ftp 서버에서 `systemctl stop ufw`을 써서 방화벽을 잠시 해제하였다. 그러나 해결되지 않아서 위 문구를 구글링으로 찾아보았다. 쭉 둘러보니 방화벽 문제인 것 같아 ufw 상태 점검을 다시 해보고, 지푸라기라도 잡는 심정으로 내 노트북의 방화벽을 다음과 같이 해제하였다.               
<img src="https://github.com/objectio/objectio.github/blob/master/images/14-error4.JPG?raw=true" width="90%">                  
노트북의 방화벽을 해제하였더니 거짓말같이 리스트가 떴다. 자잘자잘한 오류가 있었지만 첫번째 오류에 비해 이 오류는 명확한 해결방법을 알고 있어서 다행이다.             

    
_ _ _


FTP는 앞에서도 가끔씩 나왔는데 실제로 실습해보니 오류가 꽤나 많아서 생각했던 것보다 다루기 힘들다는 이미지를 받았다. 예상치 못한 부분에서 갑자기 에러가 뜨고, 안될 거라 생각했던 부분에서는 갑자기 되는게 너무 웃기고 신기했다. ftp서버를 filezilla나 lftp로 접속해서 파일 업/다운로드가 잘되는 것을 보니 반쯤 내가 한 듯 안 한듯 같으면서도 신기했다. 언젠가는(종강하고) 이 둘 말고도 다른 FTP 소프트웨어를 찾아서 적용시켜볼 예정이다.                               
어느덧 한 학기가 다 지나가고 종강을 코 앞에 두고 있다는 것이 안 믿긴다. 작년에는 대학교를 다니면서 지하철과 학교, 집을 바쁘게 오가며 살았었는데 이번 학기를 돌아보니 그냥 좀 많이 빡센 방학을 보낸 것 같다. 작년엔 육체적으로라도 힘들어서 뭔가를 하고 있다는 걸 느낄 수 있었는데 이번 학기는 오히려 있던 체력도 다 멸종 위기인 듯 하다. 특히 교수님들과 대면으로 인사도 나누고 싶었는데 그러지 못한 게 정말 아쉽다. 그치만 컴시관 수업은 온라인으로 할지라도 직접 노트북에서 실습을 해보기 때문일까 대면수업만큼만은 아니더라도 배우는 수업중에서 내 것으로 만든 지식이 가장 많은 것 같다. 한주차씩 꾸준히 실습일지를 올린 결과 내 github도 풍요로워지는 것 같고, 이제 git에서 스테이지에 파일을 올리는 거나 브릿지 나누는 건 발로도 할 수 있는 것 같다. 그것 뿐만이 아니라 컴시관 수업을 통해 한번도 다뤄보지 못했던 서버구축이나 보안, 리눅스, 디스크 등을 배워보았기 때문에  이 수업은 2학년 1학기 수업 중 가장 내 실력과 지식을 증진시키는 데 일등공신했다! 교수님이 설명도 잘 해주시고, 메일로 해결이 안되는 오류에 대해 여쭤보면 항상 해결책을 가지고 오셨다. 좋은 과목에 좋은 스승을 만났기 때문에 나 자신이 한층 성장할 수 있었던 것 같다.                